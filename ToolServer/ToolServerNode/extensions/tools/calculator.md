# FunctionDef calculator
**calculator函数**: 该函数的功能是执行Python表达式，并返回计算结果。

该`calculator`函数接收一个字符串参数`expression`，这个参数应该是一个有效的Python表达式，例如`"(123 + 234) / 23 * 1.5 - 8"`。函数的目的是计算这个表达式的值，并将结果以字符串形式返回。

函数内部首先定义了两个空字典`globals`和`locals`，这些字典用于`exec`函数的执行环境，以确保表达式的计算在一个干净的环境中进行，不会受到外部变量的影响。

接下来，函数尝试使用`eval`函数来计算表达式的值。为了能够捕获计算结果，函数构造了一个字符串`wrapped_code`，这个字符串包含了一个`eval`调用，并将结果赋值给一个名为`__result__`的变量。然后，使用`exec`函数执行这个包装后的代码字符串。

如果`eval`调用成功，函数通过`locals`字典获取`__result__`的值并返回。如果在执行`eval`过程中发生异常，函数会捕获这个异常，并尝试直接使用`exec`执行原始的`expression`字符串。如果这次执行成功，函数返回一个提示字符串"Code executed successfully."。如果执行失败，函数会捕获异常并返回一个包含错误信息的字符串。

**注意**：
- 传入的表达式应该是安全的，因为`eval`和`exec`可以执行任意代码，存在安全风险。在实际应用中，应该确保表达式来自可信来源，或者通过其他方式进行安全检查。
- 如果表达式的计算结果不是字符串类型，返回值会是Python将该结果转换为字符串后的形式。
- 如果表达式执行过程中发生错误，返回的错误信息将是异常的字符串描述。

**输出示例**：
- 如果传入的表达式是`"2 + 3 * 5"`，函数将返回`"17"`。
- 如果传入的表达式是`"raise ValueError('错误测试')"`，函数将返回`"Error: 错误测试"`。
***
